CREATE TABLE users
(
    user_id INT(11) PRIMARY KEY NOT NULL,
    username VARCHAR(125) NOT NULL,
    password VARCHAR(255) NOT NULL,
    First_name VARCHAR(255) NOT NULL,
    last_name VARCHAR(255) NOT NULL,
    created_at DATETIME,
    updated_at DATETIME
);
CREATE UNIQUE INDEX users_username_uindex ON users (username);
CREATE UNIQUE INDEX users_user_id_uindex ON users (user_id);


CREATE TABLE address_book.ADDRESS
(
    ADDRESS_ID INT PRIMARY KEY NOT NULL AUTO_INCREMENT,
    FIRST_NAME VARCHAR(255) NOT NULL,
    LAST_NAME VARCHAR(255) NOT NULL,
    LINE1 VARCHAR(255) NOT NULL,
    LINE2 VARCHAR(255),
    CITY VARCHAR(200) NOT NULL,
    STATE VARCHAR(200) NOT NULL,
    ZIP VARCHAR(255) NOT NULL,
    EMAIL VARCHAR(255),
    PHONE VARCHAR(255)
);
CREATE UNIQUE INDEX ADDRESS_ADDRESS_ID_uindex ON address_book.ADDRESS (ADDRESS_ID);

ALTER TABLE address_book.ADDRESS ADD USER_ID INT NOT NULL;
ALTER TABLE address_book.ADDRESS
ADD CONSTRAINT ADDRESS__USER_fk
FOREIGN KEY (USER_ID) REFERENCES users (user_id);